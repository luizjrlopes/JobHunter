<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JobHunter CRM - Dashboard</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom Styles & Tailwind Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Poppins", "sans-serif"],
            },
            colors: {
              glass: {
                100: "rgba(255, 255, 255, 0.7)",
                200: "rgba(255, 255, 255, 0.85)",
                border: "rgba(255, 255, 255, 0.4)",
              },
            },
          },
        },
      };
    </script>

    <style>
      body {
        background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        /* Fundo alternativo mais colorido se preferir: */
        /* background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%); */
        min-height: 100vh;
      }

      /* Glassmorphism Classes */
      .glass-panel {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
          0 2px 4px -1px rgba(0, 0, 0, 0.03);
      }

      .glass-card {
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.4);
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .glass-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        background: rgba(255, 255, 255, 0.8);
      }

      /* Modal Transitions */
      .modal {
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease-in-out;
      }

      .modal.active {
        opacity: 1;
        visibility: visible;
      }

      .modal-content {
        transform: scale(0.95);
        transition: transform 0.3s ease-in-out;
      }

      .modal.active .modal-content {
        transform: scale(1);
      }

      /* Status Badge Colors */
      .badge-Entrevista {
        background-color: #fef3c7;
        color: #b45309;
        border: 1px solid #fcd34d;
      }
      .badge-Oferta {
        background-color: #dcfce7;
        color: #15803d;
        border: 1px solid #86efac;
      }
      .badge-Aplicada {
        background-color: #dbeafe;
        color: #1d4ed8;
        border: 1px solid #93c5fd;
      }
      .badge-Recusada {
        background-color: #fee2e2;
        color: #b91c1c;
        border: 1px solid #fca5a5;
      }
      .badge-Ghosted {
        background-color: #f3f4f6;
        color: #4b5563;
        border: 1px solid #d1d5db;
      }
    </style>
  </head>
  <body
    class="text-gray-800 antialiased selection:bg-purple-200 selection:text-purple-900 pb-20"
  >
    <!-- Header -->
    <header class="sticky top-0 z-40 glass-panel border-b border-glass-border">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <div
              class="bg-gradient-to-br from-indigo-500 to-purple-600 p-2.5 rounded-xl shadow-lg text-white"
            >
              <i data-lucide="briefcase" class="w-6 h-6"></i>
            </div>
            <div>
              <h1
                class="font-display font-bold text-2xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600"
              >
                JobHunter
              </h1>
              <p class="text-xs text-gray-500 font-medium tracking-wide">
                CRM DE VAGAS
              </p>
            </div>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-3">
            <button
              onclick="exportData()"
              class="p-2.5 text-gray-600 hover:text-indigo-600 hover:bg-white/50 rounded-xl transition-colors"
              title="Exportar CSV"
            >
              <i data-lucide="download" class="w-5 h-5"></i>
            </button>
            <button
              onclick="toggleModal(true)"
              class="group flex items-center gap-2 bg-gray-900 hover:bg-gray-800 text-white px-5 py-2.5 rounded-xl font-medium transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
            >
              <i
                data-lucide="plus"
                class="w-4 h-4 group-hover:rotate-90 transition-transform"
              ></i>
              <span>Nova Vaga</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-8">
      <!-- Stats Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Card 1 -->
        <div class="glass-card rounded-2xl p-6 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
          >
            <i data-lucide="trending-up" class="w-24 h-24 text-indigo-600"></i>
          </div>
          <div class="relative z-10">
            <p class="text-sm font-medium text-gray-500 mb-1">
              Total Aplicadas
            </p>
            <h3 class="text-3xl font-bold text-gray-800" id="stat-total">0</h3>
            <div
              class="mt-4 flex items-center gap-2 text-xs font-medium text-indigo-600 bg-indigo-50 w-fit px-2 py-1 rounded-lg"
            >
              <i data-lucide="target" class="w-3 h-3"></i>
              <span>Meta semanal: 10</span>
            </div>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="glass-card rounded-2xl p-6 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
          >
            <i data-lucide="clock" class="w-24 h-24 text-amber-500"></i>
          </div>
          <div class="relative z-10">
            <p class="text-sm font-medium text-gray-500 mb-1">Em Processo</p>
            <h3 class="text-3xl font-bold text-gray-800" id="stat-process">
              0
            </h3>
            <div
              class="mt-4 flex items-center gap-2 text-xs font-medium text-amber-600 bg-amber-50 w-fit px-2 py-1 rounded-lg"
            >
              <i data-lucide="activity" class="w-3 h-3"></i>
              <span>Aguardando resposta</span>
            </div>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="glass-card rounded-2xl p-6 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
          >
            <i
              data-lucide="check-circle-2"
              class="w-24 h-24 text-emerald-600"
            ></i>
          </div>
          <div class="relative z-10">
            <p class="text-sm font-medium text-gray-500 mb-1">Ofertas</p>
            <h3 class="text-3xl font-bold text-gray-800" id="stat-offers">0</h3>
            <div
              class="mt-4 flex items-center gap-2 text-xs font-medium text-emerald-600 bg-emerald-50 w-fit px-2 py-1 rounded-lg"
            >
              <i data-lucide="party-popper" class="w-3 h-3"></i>
              <span>Sucesso!</span>
            </div>
          </div>
        </div>

        <!-- Card 4 -->
        <div class="glass-card rounded-2xl p-6 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
          >
            <i data-lucide="ghost" class="w-24 h-24 text-gray-400"></i>
          </div>
          <div class="relative z-10">
            <p class="text-sm font-medium text-gray-500 mb-1">Sem Resposta</p>
            <h3 class="text-3xl font-bold text-gray-800" id="stat-ghosted">
              0
            </h3>
            <div
              class="mt-4 flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-100 w-fit px-2 py-1 rounded-lg"
            >
              <i data-lucide="calendar-x" class="w-3 h-3"></i>
              <span>+15 dias</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Filters & Search -->
      <div class="glass-panel rounded-2xl p-4 shadow-sm">
        <div
          class="flex flex-col md:flex-row gap-4 justify-between items-center"
        >
          <!-- Search -->
          <div class="relative w-full md:w-96 group">
            <i
              data-lucide="search"
              class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"
            ></i>
            <input
              type="text"
              id="searchInput"
              placeholder="Buscar por empresa ou cargo..."
              class="w-full pl-12 pr-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-gray-400 text-sm"
            />
          </div>

          <!-- Select Filters -->
          <div class="flex gap-3 w-full md:w-auto overflow-x-auto pb-2 md:pb-0">
            <select
              id="trackFilter"
              class="bg-white/50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 p-3 outline-none cursor-pointer min-w-[140px]"
            >
              <option value="Todas">Todas as Trilhas</option>
              <option value="Full Stack">Full Stack</option>
              <option value="Frontend">Frontend</option>
              <option value="Backend">Backend</option>
              <option value="Mobile">Mobile</option>
              <option value="Design">Design</option>
              <option value="Dados">Dados</option>
            </select>

            <select
              id="statusFilter"
              class="bg-white/50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 p-3 outline-none cursor-pointer min-w-[140px]"
            >
              <option value="Todas">Todos Status</option>
              <option value="Aplicada">Aplicada</option>
              <option value="Entrevista">Entrevista</option>
              <option value="Oferta">Oferta</option>
              <option value="Recusada">Recusada</option>
              <option value="Ghosted">Ghosted</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Table -->
      <div
        class="glass-panel rounded-2xl border border-white/40 shadow-xl overflow-hidden"
      >
        <div class="overflow-x-auto">
          <table class="w-full whitespace-nowrap">
            <thead class="bg-gray-50/50 border-b border-gray-200">
              <tr>
                <th
                  class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
                >
                  Empresa / Cargo
                </th>
                <th
                  class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
                >
                  Trilha
                </th>
                <th
                  class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
                >
                  Status
                </th>
                <th
                  class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
                >
                  Data
                </th>
                <th
                  class="px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider"
                >
                  Ações
                </th>
              </tr>
            </thead>
            <tbody id="jobsTableBody" class="divide-y divide-gray-100">
              <!-- Rows will be injected by JS -->
            </tbody>
          </table>
        </div>
        <!-- Empty State (Hidden by default) -->
        <div
          id="emptyState"
          class="hidden py-12 flex flex-col items-center justify-center text-center"
        >
          <div class="bg-gray-50 p-4 rounded-full mb-3">
            <i data-lucide="search-x" class="w-8 h-8 text-gray-400"></i>
          </div>
          <h3 class="text-gray-900 font-medium">Nenhuma vaga encontrada</h3>
          <p class="text-gray-500 text-sm mt-1">
            Tente ajustar seus filtros ou adicione uma nova vaga.
          </p>
        </div>
      </div>
    </main>

    <!-- Modal Adicionar Vaga -->
    <div
      id="jobModal"
      class="modal fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm"
    >
      <div
        class="modal-content bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden"
      >
        <div
          class="px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"
        >
          <h3 class="text-lg font-bold text-gray-800">Nova Vaga</h3>
          <button
            onclick="toggleModal(false)"
            class="text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-lg transition-colors"
          >
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>

        <form id="jobForm" class="p-6 space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div class="col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Nome da Empresa</label
              >
              <input
                type="text"
                name="company"
                required
                class="w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all"
                placeholder="Ex: Google, Nubank..."
              />
            </div>

            <div class="col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Cargo</label
              >
              <input
                type="text"
                name="position"
                required
                class="w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all"
                placeholder="Ex: UX Designer"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Trilha</label
              >
              <select
                name="track"
                class="w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all bg-white"
              >
                <option value="Full Stack">Full Stack</option>
                <option value="Frontend">Frontend</option>
                <option value="Backend">Backend</option>
                <option value="Mobile">Mobile</option>
                <option value="Design">Design</option>
                <option value="Dados">Dados</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Status Inicial</label
              >
              <select
                name="status"
                class="w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all bg-white"
              >
                <option value="Aplicada">Aplicada</option>
                <option value="Entrevista">Entrevista</option>
                <option value="Oferta">Oferta</option>
              </select>
            </div>
          </div>

          <div class="pt-4 flex justify-end gap-3">
            <button
              type="button"
              onclick="toggleModal(false)"
              class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-xl font-medium transition-colors"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="px-6 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-xl font-medium transition-colors shadow-lg shadow-gray-900/20"
            >
              Salvar Vaga
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Application Logic -->
    <script>
      // Dados Iniciais
      let jobs = [
        {
          id: 1,
          company: "TechFlow",
          position: "Senior Frontend Dev",
          track: "Frontend",
          status: "Entrevista",
          date: "2023-10-24",
        },
        {
          id: 2,
          company: "DataSphere",
          position: "AI Researcher",
          track: "Dados",
          status: "Aplicada",
          date: "2023-10-22",
        },
        {
          id: 3,
          company: "CloudWorks",
          position: "DevOps Engineer",
          track: "Backend",
          status: "Recusada",
          date: "2023-10-15",
        },
        {
          id: 4,
          company: "Creative Minds",
          position: "Product Designer",
          track: "Design",
          status: "Oferta",
          date: "2023-10-28",
        },
        {
          id: 5,
          company: "NextGen Bank",
          position: "Java Developer",
          track: "Backend",
          status: "Ghosted",
          date: "2023-09-30",
        },
      ];

      // Elementos DOM
      const tableBody = document.getElementById("jobsTableBody");
      const emptyState = document.getElementById("emptyState");
      const searchInput = document.getElementById("searchInput");
      const trackFilter = document.getElementById("trackFilter");
      const statusFilter = document.getElementById("statusFilter");
      const modal = document.getElementById("jobModal");
      const jobForm = document.getElementById("jobForm");

      // Renderização
      function renderJobs() {
        const searchTerm = searchInput.value.toLowerCase();
        const trackValue = trackFilter.value;
        const statusValue = statusFilter.value;

        const filteredJobs = jobs.filter((job) => {
          const matchesSearch =
            job.company.toLowerCase().includes(searchTerm) ||
            job.position.toLowerCase().includes(searchTerm);
          const matchesTrack =
            trackValue === "Todas" || job.track === trackValue;
          const matchesStatus =
            statusValue === "Todas" || job.status === statusValue;

          return matchesSearch && matchesTrack && matchesStatus;
        });

        tableBody.innerHTML = "";

        if (filteredJobs.length === 0) {
          emptyState.classList.remove("hidden");
        } else {
          emptyState.classList.add("hidden");
          filteredJobs.forEach((job) => {
            // Mapeamento de cor simples para status
            let statusClass =
              "badge-" +
              (job.status.includes("Entrevista") ? "Entrevista" : job.status);

            const row = document.createElement("tr");
            row.className = "hover:bg-white/40 transition-colors group";
            row.innerHTML = `
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                <div class="h-10 w-10 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center text-gray-500 font-bold text-lg shadow-sm">
                                    ${job.company.charAt(0)}
                                </div>
                                <div class="ml-4">
                                    <div class="text-sm font-semibold text-gray-900">${
                                      job.position
                                    }</div>
                                    <div class="text-sm text-gray-500">${
                                      job.company
                                    }</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200">
                                ${job.track}
                            </span>
                        </td>
                        <td class="px-6 py-4">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${statusClass}">
                                <span class="w-1.5 h-1.5 rounded-full bg-current mr-1.5 opacity-70"></span>
                                ${job.status}
                            </span>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-500">
                            <div class="flex items-center gap-1">
                                <i data-lucide="calendar" class="w-3 h-3"></i>
                                ${formatDate(job.date)}
                            </div>
                        </td>
                        <td class="px-6 py-4 text-right text-sm font-medium">
                            <button onclick="deleteJob(${
                              job.id
                            })" class="text-gray-400 hover:text-red-600 transition-colors p-2 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all">
                                <i data-lucide="trash-2" class="w-4 h-4"></i>
                            </button>
                        </td>
                    `;
            tableBody.appendChild(row);
          });
        }

        // Re-inicializa os ícones Lucide nos novos elementos
        lucide.createIcons();
        updateStats();
      }

      function updateStats() {
        document.getElementById("stat-total").innerText = jobs.length;
        document.getElementById("stat-process").innerText = jobs.filter((j) =>
          ["Entrevista", "Aplicada"].includes(j.status)
        ).length;
        document.getElementById("stat-offers").innerText = jobs.filter(
          (j) => j.status === "Oferta"
        ).length;
        document.getElementById("stat-ghosted").innerText = jobs.filter(
          (j) => j.status === "Ghosted"
        ).length;
      }

      function formatDate(dateString) {
        const options = { day: "2-digit", month: "short" };
        return new Date(dateString).toLocaleDateString("pt-BR", options);
      }

      // Ações do Usuário
      function toggleModal(show) {
        if (show) {
          modal.classList.add("active");
        } else {
          modal.classList.remove("active");
        }
      }

      function deleteJob(id) {
        if (confirm("Tem certeza que deseja remover esta candidatura?")) {
          jobs = jobs.filter((job) => job.id !== id);
          renderJobs();
        }
      }

      function exportData() {
        alert(
          "Exportar CSV: funcionalidade simulada.\n\nDados prontos para download!"
        );
      }

      // Event Listeners
      searchInput.addEventListener("input", renderJobs);
      trackFilter.addEventListener("change", renderJobs);
      statusFilter.addEventListener("change", renderJobs);

      jobForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(jobForm);

        const newJob = {
          id: Date.now(),
          company: formData.get("company"),
          position: formData.get("position"),
          track: formData.get("track"),
          status: formData.get("status"),
          date: new Date().toISOString().split("T")[0],
        };

        jobs.unshift(newJob); // Adiciona no topo
        renderJobs();
        jobForm.reset();
        toggleModal(false);
      });

      // Fechar modal ao clicar fora
      modal.addEventListener("click", (e) => {
        if (e.target === modal) toggleModal(false);
      });

      // Inicialização
      renderJobs();
    </script>
  </body>
</html>
